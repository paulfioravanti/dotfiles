# ~/.tmuxinator/blog.yml

# Jekyll runs on 4000 by default
<% jekyll_port = 5000 %>
# Grip runs on 6419 by default
<% grip_port = 7419 %>

name: blog
root: ~/blogs/paulfioravanti.github.io

on_project_first_start:
  - bundle install
  - bundle update
  - open --background https://analytics.google.com/analytics
  - open --background https://search.google.com/search-console
  - open --background https://paulfioravanti.disqus.com
  - open --background https://us2.admin.mailchimp.com/lists/dashboard/overview?id=969734
  # Jekyll server
  - open --background http://localhost:<%= jekyll_port %>
  # Grip server
  - open --background http://localhost:<%= grip_port %>

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
pre_window:
  - asdf local ruby 2.7.2
  - asdf local nodejs 14.13.1

# Specifies (by name or index) which window will be selected on project startup. If not set, the first window is used.
startup_window: editor

windows:
  - editor: vim
  - guard: bundle exec guard
  - server: bundle exec jekyll serve --incremental --drafts --port <%= jekyll_port %> --livereload
  - grip: grip <%= grip_port %>
